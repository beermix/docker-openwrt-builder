FROM fedora:30

ADD yum.repos.d /etc/yum.repos.d/

RUN dnf upgrade -y && dnf install -y \
	binutils time bzip2 gcc gcc-c++ libstdc++-static gawk gettext flex ncurses-devel \
	zlib-devel zlib-static make patch unzip sharutils intltool \
	perl-XML-Parser perl-ExtUtils-MakeMaker perl-Parse-Yapp perl-JSON perl-Thread-Queue \
	glibc glibc-devel glibc-static sed cpio diffstat elfutils mc \
	python2 python3 python3-distutils-extra nano zstd tig \
	rsync zsh git wget openssl-devel openssl which 'dnf-command(download)' && \
	dnf clean all

RUN useradd -m user && \
    echo 'user ALL=NOPASSWD: ALL' > /etc/sudoers.d/user

USER user
WORKDIR /home/user/ledex
